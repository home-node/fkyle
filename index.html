<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MetaMask Example</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.6.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@metamask/detect-provider@1.2.0/dist/detect-provider.min.js"></script>
</head>
<body>
    <h1>MetaMask Example</h1>
    <button id="connect">Connect MetaMask</button>
    <script>
        async function init() {
            const ethereum = await detectEthereumProvider();
            
            if (ethereum) {
                console.log('Ethereum successfully detected!');
                // You can now use the provider.
                document.getElementById("connect").addEventListener("click", async () => {
                    try {
                        const accounts = await ethereum.request({ method: "eth_requestAccounts" });
                        console.log("Connected to MetaMask:", accounts[0]);
                        const web3 = new Web3(ethereum);
                        const contractAddress = "YOUR_CONTRACT_ADDRESS"; // Replace with your contract address
                        const contractABI = [ /* Your contract ABI here */ ];
                        const contract = new web3.eth.Contract(contractABI, contractAddress);
                        // Example: Call a function on the contract
                        const result = await contract.methods.yourFunction().call();
                        console.log("Contract function result:", result);
                    } catch (error) {
                        console.error("Error connecting to MetaMask:", error);
                    }
                });
            } else {
                console.error('Please install MetaMask!');
            }
        }
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
